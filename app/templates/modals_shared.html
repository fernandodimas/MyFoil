<!-- Shared Modals for MyFoil -->

<!-- Game Details Modal -->
<div class="modal modal-game-details" id="gameDetailsModal">
    <div class="modal-background" onclick="closeModal('gameDetailsModal')"></div>
    <div class="modal-card modal-card-large" id="gameDetailsCard">
        <section class="modal-card-body p-0 overflow-y-auto" id="modalContent">
            <!-- Injected via JS -->
        </section>
    </div>
</div>

<!-- DLC Details Modal (New) -->
<div class="modal modal-dlc-details" id="dlcDetailsModal">
    <div class="modal-background" onclick="closeModal('dlcDetailsModal')"></div>
    <div class="modal-card modal-card-dlc">
        <header class="modal-card-head">
            <p class="modal-card-title is-size-5" id="dlcModalTitle">Detalhes da DLC</p>
            <button class="delete" aria-label="close" onclick="closeModal('dlcDetailsModal')"></button>
        </header>
        <section class="modal-card-body p-0 overflow-y-auto" id="dlcModalContent">
            <!-- Injected via JS -->
        </section>
    </div>
</div>

<!-- Edit Metadata Modal -->
<div class="modal modal-edit-metadata" id="editMetadataModal">
    <div class="modal-background" onclick="closeModal('editMetadataModal')"></div>
    <div class="modal-card">
        <header class="modal-card-head">
            <p class="modal-card-title">Editar Dados do Jogo</p>
            <button class="delete" aria-label="close" onclick="closeModal('editMetadataModal')"></button>
        </header>
        <section class="modal-card-body">
            <!-- Search TitleDB Section -->
            <div class="box has-background-light-soft mb-4">
                <label class="label is-small">Buscar Metadados na Base Geral (TitleDB)</label>
                <div class="field has-addons">
                    <div class="control is-expanded">
                        <input class="input is-small" type="text" id="searchTitleDBInput"
                            placeholder="Digite o nome do jogo (ex: Mario)">
                    </div>
                    <div class="control">
                        <button class="button is-small is-info" onclick="searchTitleDB()">
                            <span class="icon is-small"><i class="bi bi-search"></i></span>
                            <span>Buscar</span>
                        </button>
                    </div>
                </div>
                <div id="titleDBSearchResults" class="mt-2 title-db-results"></div>
            </div>

            <input type="hidden" id="editMetaId">
            <input type="hidden" id="editMetaFullData">
            <div class="field">
                <label class="label">Nome</label>
                <div class="control">
                    <input class="input" type="text" id="editMetaName">
                </div>
            </div>
            <div class="field">
                <label class="label">Publisher</label>
                <div class="control">
                    <input class="input" type="text" id="editMetaPublisher">
                </div>
            </div>
            <div class="field">
                <label class="label">Descrição</label>
                <div class="control">
                    <textarea class="textarea" id="editMetaDescription"></textarea>
                </div>
            </div>
            <div class="field">
                <label class="label">URL do Ícone</label>
                <div class="control">
                    <input class="input" type="text" id="editMetaIcon">
                </div>
            </div>
            <div class="field">
                <label class="label">URL do Banner</label>
                <div class="control">
                    <input class="input" type="text" id="editMetaBanner">
                </div>
            </div>
            <div class="columns">
                <div class="column">
                    <div class="field">
                        <label class="label">Gênero</label>
                        <div class="control">
                            <input class="input" type="text" id="editMetaGenre" placeholder="Ex: Ação, RPG">
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="field">
                        <label class="label">Data de Lançamento</label>
                        <div class="control">
                            <input class="input" type="text" id="editMetaRelease" placeholder="Ex: 2023-11-14">
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <footer class="modal-card-foot is-justify-content-flex-end">
            <button class="button" onclick="closeModal('editMetadataModal')">Cancelar</button>
            <button class="button is-primary" id="btnSaveMetadata" onclick="saveGameMetadata()">Salvar
                Alterações</button>
        </footer>
    </div>
</div>

<!-- Screenshot Modal -->
<div class="modal modal-screenshot" id="screenshotModal">
    <div class="modal-background" onclick="closeModal('screenshotModal')"></div>
    <div class="modal-content is-flex is-justify-content-center is-align-items-center p-0 modal-screenshot-content">
        <img id="screenshotModalImage" src="" alt="Screenshot" class="modal-screenshot-img">
    </div>
    <button class="modal-close is-large" aria-label="close" onclick="closeModal('screenshotModal')"></button>
</div>

<!-- Confirmation Modal (Generic) -->
<div class="modal modal-confirm" id="genericConfirmModal">
    <div class="modal-background" onclick="closeModal('genericConfirmModal')"></div>
    <div class="modal-card modal-card-confirm">
        <header class="modal-card-head py-3">
            <p class="modal-card-title is-size-6" id="confirmTitle">Confirmar Ação</p>
            <button class="delete" aria-label="close" onclick="closeModal('genericConfirmModal')"></button>
        </header>
        <section class="modal-card-body py-4">
            <div class="is-flex is-align-items-center mb-0">
                <span class="icon is-large has-text-warning mr-2">
                    <i class="bi bi-exclamation-triangle-fill is-size-3"></i>
                </span>
                <p id="confirmMessage" class="is-size-6">Deseja realmente prosseguir com esta ação?</p>
            </div>
        </section>
        <footer class="modal-card-foot is-justify-content-flex-end py-2">
            <button class="button is-small is-light" onclick="closeModal('genericConfirmModal')">Cancelar</button>
            <button class="button is-small is-primary" id="btnConfirmAction">Confirmar</button>
        </footer>
    </div>
</div>

<script src="/static/js/modals.js?v={{ build_version }}"></script>